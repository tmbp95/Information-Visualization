<!DOCTYPE html>
<html>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<head>
		<title>CS GO STATS</title>
		<link href="css/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="css/style.css">
		<script type="text/javascript" src="js/jquery.js"></script>
		<script type="text/javascript" src="js/d3v4.js"></script>
		<link href="css/css/bootstrap-toggle.min.css" rel="stylesheet">
		<script src="css/js/bootstrap-toggle.min.js"></script>
  		<script src="js/jquery-ui.js"></script>
		<script type="text/javascript" src="js/jquery.autocomplete.js"></script>
	</head>

	<body>
		<div id="central">
			<div id="template_dir">
				<div id="paineldir">
					<div id="paineldir_box1">
						<br>
						<!--<div style="margin-left:20px;">
							<input name="checkbox" data-toggle="toggle" data-on="Teams" data-off="Players" type="checkbox">
						</div>-->
						<div id="topPlayers">
							<h4 style="margin-left:20px;margin-top:-4px;">Tournaments By Year</h4>
							<div id="scatterplot"></div>
							<div style="float:left;width:500px;height:20px;margin-left:10px;margin-top:10px;">
								<span style="float:left;margin-top:2px;" class="month-name">Less</span>
								<div id="sampleColor" style="background: #eeeeee;"></div>
								<div id="sampleColor" style="background: #71e7f4"></div>
								<div id="sampleColor" style="background: #52a6af;"></div>
								<div id="sampleColor" style="background: #41848b;"></div>
								<div id="sampleColor" style="background: #2c6167;"></div>
								<span style="margin-left:2px;" class="month-name">More</span>
								<div class="input-group" style="margin-left:150px;margin-top:-23px;">
							    	<input type="search" class="form-control autocompleteTournaments" placeholder="Search for a Tournament" id="autocomplete" style="height:25px;font-size:12px;">
							    	<span class="input-group-btn">
							    		<button class="btn btn-default" type="button" style="height:25px;"><span class="glyphicon glyphicon-search" aria-hidden="true" style="position:relative;top:-3px;"></span></button>
							    	</span>
							    </div><!-- /input-group -->
							</div>
							<div id="calendar"></div>
						</div>	
						<div style="clear:both"></div>
						<div id="divInfoHeatmap">
							<span id="InfoHeatmap"></span>
						</div>	
					</div>
					<div id="paineldir_box1" class="bubblechartBOX" style="display:none;margin-top:5px;">
						<br>
						<div id="topPlayers">
							<h4 style="margin-left:20px;margin-top:-4px;">Teams in <font id="tournamentsfont"></font></h4>
							<div class="input-group" style="margin-left:20px;margin-top:2px;width:180px;">
							    <input type="search" class="form-control autocompleteTeams" placeholder="Search for a Team" id="autocomplete" style="height:25px;font-size:12px;width:180px;">
							    <span class="input-group-btn">
							    	<button class="btn btn-default" type="button" style="height:25px;"><span class="glyphicon glyphicon-search" aria-hidden="true" style="position:relative;top:-3px;"></span></button>
							    </span>
							</div><!-- /input-group -->
							<div id="bubblechart"></div>
							<div id="radarchart"></div>
							<div id="barchart"></div>
						</div>
						<div style="clear:both"></div>
					</div>
					<div id="paineldir_box1" class="barcharttBOX" style="display:none;margin-top:5px;">
						<br>
						<div id="topPlayers">
							<h4 style="margin-left:20px;margin-top:-4px;float:left;">Players in <font id="teamsfont"></font></h4>
							<div class="input-group" style="margin-right:20px;margin-top:-5px;width:180px;float:right;">
							    <input type="search" class="form-control autocompletePlayers" placeholder="Search for a Player" id="autocomplete" style="height:25px;font-size:12px;width:180px;">
							    <span class="input-group-btn">
							    	<button class="btn btn-default" type="button" style="height:25px;"><span class="glyphicon glyphicon-search" aria-hidden="true" style="position:relative;top:-3px;"></span></button>
							    </span>
							</div><!-- /input-group -->
							<div style="clear:both"></div>
							<div id="horizbarchart"></div>
							<div id="radarchartPlayers"></div>
							<div id="linechart"></div>
						</div>
						<div style="clear:both"></div>
					</div>
					<br>
				</div>
			</div>
		</div>
		<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
		<script src="js/heatmap.js"></script>
		<script src="js/d3-tip.js"></script>
		<script src="js/scatterplot.js"></script>
		<script src="js/bubblechart.js"></script>
		<script src="js/radarchart.js"></script>
		<script src="js/barchart.js"></script>
		<script src="js/horizbarchart.js"></script>
		<script src="js/radarchartPlayers.js"></script>
		<script src="js/linechart.js"></script>
		<script>
				var availableEvents = [];
				d3.json("data/AllEventsNames.json", function(data){
                   data.forEach(function(d) {
          				availableEvents.push(d.Name);
      				});
					$('.autocompleteTournaments').autocomplete({
						lookup: availableEvents,
						onSelect: function (suggestion) {
							updateSearchBar(suggestion,data);
						}
					});
					function updateSearchBar(suggestion,data) {
				    	data.forEach(function(d) {
          					if(suggestion.value == d.Name){
          						begin=false;
          						enterOutside=true;
          						clickedDot=2000+d.YEAR;
          						gen_scatterplot(clickedDot);
          						updateData(clickedDot,d.ID);
          						$("#ESTE").css("fill", "#ccc");        						
          						teste(d.ID,d.Name);
          					}
      					});
					}
			    });
			    $(document).ready(function() {
					$('.autocompleteTournaments').val("");
			    });

			    var availableTeams = [];
				d3.json("data/AllEventsNames.json", function(data){
                   data.forEach(function(d) {
          				availableTeams.push(d.Name);
      				});
					$('.autocompleteTeams').autocomplete({
						lookup: availableTeams,
						onSelect: function (suggestion) {
							updateSearchBar(suggestion);
						}
					});
			    });
			    $(document).ready(function() {
					$('.autocompleteTeams').val("");
			    });

			    var availablePlayers = [];
				d3.json("data/AllEventsNames.json", function(data){
                   data.forEach(function(d) {
          				availablePlayers.push(d.Name);
      				});
					$('.autocompletePlayers').autocomplete({
						lookup: availablePlayers,
						onSelect: function (suggestion) {
							updateSearchBar(suggestion);
						}
					});
			    });
			    $(document).ready(function() {
					$('.autocompletePlayers').val("");
			    });
		</script>
</body>

</html>